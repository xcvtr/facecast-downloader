# Руководство по скачиванию видео с Opendemo.ru

## Что такое Opendemo.ru?

Opendemo.ru - это платформа для проведения онлайн-презентаций и вебинаров, которая использует facecast.net для хостинга видео. Наш инструмент позволяет скачивать видео напрямую с серверов facecast.net.

## Формат URL

Видео на opendemo.ru имеют следующий формат URL:
```
https://opendemo.ru/live?id={video_id}&code={access_code}
```

Где:
- `id` - уникальный идентификатор видео
- `code` - код доступа (опционально, для защищенных видео)

## Примеры использования

### 1. Скачивание защищенного видео (с кодом доступа)

```bash
python -m src.cli "https://opendemo.ru/live?id=zfvfh8&code=1"
```

**Важно:** На Windows в PowerShell обязательно используйте кавычки вокруг URL!

### 2. Скачивание публичного видео (без кода)

Если видео не требует кода доступа:

```bash
python -m src.cli "https://opendemo.ru/live?id=abc123"
```

### 3. Указание директории для сохранения

```bash
python -m src.cli "https://opendemo.ru/live?id=zfvfh8&code=1" -o ./presentations
```

### 4. Указание имени файла

```bash
python -m src.cli "https://opendemo.ru/live?id=zfvfh8&code=1" -f my_presentation.mp4
```

### 5. Быстрое скачивание (больше потоков)

```bash
python -m src.cli "https://opendemo.ru/live?id=zfvfh8&code=1" -w 15
```

## Как это работает?

1. **Парсинг URL** - инструмент извлекает `id` и `code` из URL opendemo.ru
2. **Преобразование** - параметры преобразуются в URL facecast.net:
   ```
   https://facecast.net/w/{id}?key={code}
   ```
3. **Скачивание** - видео скачивается напрямую с серверов facecast.net

## Получение URL видео

### Способ 1: Из адресной строки браузера
1. Откройте страницу с видео на opendemo.ru
2. Скопируйте URL из адресной строки
3. URL должен содержать параметры `id` и `code`

### Способ 2: Из ссылки на презентацию
Если вам дали ссылку на презентацию, она уже содержит все необходимые параметры.

## Часто задаваемые вопросы

### Q: Нужен ли код доступа для всех видео?
A: Нет, некоторые видео на opendemo.ru публичные и не требуют кода. В этом случае просто не указывайте параметр `code` в URL.

### Q: Можно ли скачать live-трансляцию?
A: Нет, инструмент работает только с завершенными записями. Дождитесь окончания трансляции.

### Q: Почему на Windows нужны кавычки?
A: Символ `&` в PowerShell имеет специальное значение. Кавычки предотвращают его интерпретацию как команды.

### Q: Что делать, если видео не скачивается?
A: Проверьте:
1. Правильность URL (должен содержать `id` и при необходимости `code`)
2. Доступность видео (не удалено, не приватное)
3. Корректность кода доступа
4. Интернет-соединение

## Ограничения

- Работает только с завершенными записями (не live)
- Требуется корректный код доступа для защищенных видео
- Скорость скачивания зависит от вашего интернет-соединения
- Не используйте более 20 параллельных потоков

## Рекомендации

- Для быстрого скачивания: используйте 10-15 потоков (`-w 10`)
- Для медленного интернета: используйте 3-5 потоков (по умолчанию)
- Сохраняйте видео в отдельную папку для удобства организации
- Используйте осмысленные имена файлов (`-f presentation_name.mp4`)

## Примеры команд

```bash
# Базовое скачивание
python -m src.cli "https://opendemo.ru/live?id=zfvfh8&code=1"

# С организацией файлов
python -m src.cli "https://opendemo.ru/live?id=zfvfh8&code=1" -o ./presentations/2024 -f basis_dynamix_4.4.mp4

# Быстрое скачивание
python -m src.cli "https://opendemo.ru/live?id=zfvfh8&code=1" -w 15 -o ./downloads

# Публичное видео без кода
python -m src.cli "https://opendemo.ru/live?id=public123" -o ./videos
```

## Поддержка

Если у вас возникли проблемы:
1. Проверьте формат URL
2. Убедитесь, что видео доступно
3. Попробуйте уменьшить количество потоков
4. Проверьте логи ошибок в консоли
